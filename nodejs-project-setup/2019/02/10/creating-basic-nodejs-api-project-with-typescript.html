<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Creating a basic Nodejs API project with typescript</title>
  <meta name="description" content="	These are series of tutorials that help to setup production-grade Nodejs API project. This is the STEP-1 of	Production-grade Nodejs API project setup tutorial.">
  
  <meta name="author" content="Mahesh Kumar Kolla">
  <meta name="copyright" content="&copy; Mahesh Kumar Kolla 2020">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/monokai-sublime.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  

  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/nodejs-project-setup/2019/02/10/creating-basic-nodejs-api-project-with-typescript.html">
  <link rel="alternate" type="application/rss+xml" title="Mahesh Kumar Kolla" href="http://localhost:4000/feed.xml" />
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <span>Mahesh Kumar Kolla</span>
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
        
          
          <li class="nav-link"><a href="/about/">About</a>
          
        
          
        
          
        
          
        
          
          <li class="nav-link"><a href="/posts/">Posts</a>
          
        
          
          <li class="nav-link"><a href="/tag/thoughtworks/">thoughtworks</a>
          
        
          
          <li class="nav-link"><a href="/tag/step/">step</a>
          
        
          
          <li class="nav-link"><a href="/tag/tech/">tech</a>
          
        
          
          <li class="nav-link"><a href="/tag/nodejs/">nodejs</a>
          
        
          
          <li class="nav-link"><a href="/tag/typescript/">typescript</a>
          
        
          
          <li class="nav-link"><a href="/tag/javascript/">javascript</a>
          
        
          
          <li class="nav-link"><a href="/tag/school/">school</a>
          
        
          
          <li class="nav-link"><a href="/tag/childhood/">childhood</a>
          
        
          
          <li class="nav-link"><a href="/tag/raspberrypi/">raspberrypi</a>
          
        
          
          <li class="nav-link"><a href="/tag/mongodb/">mongodb</a>
          
        
          
          <li class="nav-link"><a href="/tag/ubuntu/">ubuntu</a>
          
        
          
          <li class="nav-link"><a href="/category/non-tech/">non-tech</a>
          
        
          
          <li class="nav-link"><a href="/category/nodejs-project-setup/">nodejs-project-setup</a>
          
        
          
          <li class="nav-link"><a href="/category/deploy-nodejs-application-on-a-raspberrypi/">deploy-nodejs-application-on-a-raspberrypi</a>
          
        
          
        
          
        
          
        
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="post">

<div class="post-header-container " >
  <div class="scrim ">
    <header class="post-header">
      <h1 class="title">Creating a basic Nodejs API project with typescript</h1>
      <p class="info">by <strong>Mahesh Kumar Kolla</strong></p>
    </header>
  </div>
</div>

<div class="wrapper">

 <span class="page-divider">
  <span class="one"></span>
  <span class="two"></span>
</span>
 

<section class="post-meta">
  <div class="post-date">February 10, 2019</div>
  <div class="post-categories">
  in 
    
    <a href="/category/nodejs-project-setup">Nodejs-project-setup</a>
    
  
  </div>
</section>

<article class="post-content">
  <p>
	These are series of tutorials that help to setup production-grade Nodejs API project. This is the STEP-1 of
	<b><a href=" /nodejs-project-setup/2019/02/10/production-grade-nodejs-api-project-setup.html">Production-grade Nodejs API project setup</a></b> tutorial.
</p>

<p>In this tutorial, We are going to setup a basic express app with typescript.</p>

<ul>
  <li>Run <code class="language-plaintext highlighter-rouge">npm init</code> in the project directory and follow the instructions - package.json file would be created.</li>
</ul>

<p>package.json file contains metadata, dependencies and scripts of the project.</p>
<ul>
  <li>Install express using <code class="language-plaintext highlighter-rouge">npm install express --save</code> command</li>
</ul>

<p>When we specify <code class="language-plaintext highlighter-rouge">--save</code>, the dependency will be saved in package.json</p>
<ul>
  <li>Install typescript using <code class="language-plaintext highlighter-rouge">npm install typescript @types/node --save-dev</code> command</li>
</ul>

<p>When we specify <code class="language-plaintext highlighter-rouge">--save-dev</code>, the dependency will be saved under dev dependencies which are required only for development purpose.</p>
<ul>
  <li>Configuring the typescript.</li>
</ul>

<p>When running the typescript <code class="language-plaintext highlighter-rouge">tsc</code> command, it searches for configuration file <code class="language-plaintext highlighter-rouge">tsconfig.json</code>. Add the following</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="w"> 
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"compilerOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"commonjs"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"moduleResolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pretty"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sourceMap"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"es6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outDir"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./dist"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"src/**/*.ts"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span></code></pre></figure>

<p>Here, we are specifying typescript to compile all <code class="language-plaintext highlighter-rouge">.ts</code> files present in src and place the generated output in dist.
Also we have specified the target js version as es6(compatible with latest nodejs versions) given module as commonjs which is used in node.
Read <a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html">tsconfig.json</a> to know about these option.</p>

<p>Now, it is time for us to create the express server</p>

<ul>
  <li>Create <code class="language-plaintext highlighter-rouge">app.ts</code> and <code class="language-plaintext highlighter-rouge">server.ts</code> files under <code class="language-plaintext highlighter-rouge">src</code> directory</li>
</ul>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"> 
  <span class="c1">// app.ts</span>
  <span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">express</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">express</span><span class="dl">"</span><span class="p">;</span>
  <span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">bodyParser</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">body-parser</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
  <span class="nx">app</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/hello</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">});</span>
  <span class="k">export</span> <span class="k">default</span> <span class="nx">app</span><span class="p">;</span></code></pre></figure>

<p>Above, we did two things.
One, We have created an get end point that responds with “Hello”.
Second, We have used <code class="language-plaintext highlighter-rouge">body-parser</code> middleware which extracts the body of the request stream and exposes it as json on <code class="language-plaintext highlighter-rouge">req.body</code>.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"> 
  <span class="c1">// server.ts</span>
  <span class="k">import</span> <span class="nx">app</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./app</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">PORT</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PORT</span> <span class="o">||</span> <span class="mi">3000</span><span class="p">;</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">PORT</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Express server listening on port </span><span class="p">${</span><span class="nx">PORT</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">});</span></code></pre></figure>

<p>We have created the server. It listens on port 3000 if PORT environment variable is not set.</p>

<ul>
  <li>Add scripts to package.json.</li>
</ul>

<p>Add following two lines under scripts in package.json.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript">  <span class="dl">"</span><span class="s2">build</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">tsc</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">start</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">node ./dist/server.js</span><span class="dl">"</span><span class="p">,</span> </code></pre></figure>

<p>This will allow us to build and run the app.</p>

<ul>
  <li>Run <code class="language-plaintext highlighter-rouge">npm run build</code> and then <code class="language-plaintext highlighter-rouge">npm start</code></li>
  <li>Check the app in browser using URL <code class="language-plaintext highlighter-rouge">localhost:3000/hello</code></li>
</ul>

<p>We need to build and start the server on evey small change of the code. It’s kinda takes off focus on development. So, let us create some tools to make this process easy</p>

<ul>
  <li>Run <code class="language-plaintext highlighter-rouge">npm install nodemon ts-node --save-dev</code></li>
</ul>

<p>Nodemon helps us to restart the app automatically when any changes detected in the code.
ts-node is for executing the typescript code without compiling it to javascript.</p>

<ul>
  <li>Add one more script to package.json. <code class="language-plaintext highlighter-rouge">"dev": "nodemon --exec 'ts-node' ./src/server.ts"</code></li>
</ul>

<p>Now, we can run <code class="language-plaintext highlighter-rouge">npm run dev</code> to start the server in development environment instead of building and running.</p>

<p>We have a basic nodejs app up and running.
In the next tutorial, We will be structuring the app by creating controllers, services, models etc.,</p>


</article>



<section class="tags">
  <strong>Tags:</strong> <a href="/tag/tech">tech</a>,&nbsp;<a href="/tag/nodejs">nodejs</a>,&nbsp;<a href="/tag/typescript">typescript</a>
</section>



<section class="rss">
  <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
</section>

<section class="share">
  <span>Share: </span>
  
    
    
      <a href="//twitter.com/share?text=Creating+a+basic+Nodejs+API+project+with+typescript&url=http%3A%2F%2Flocalhost%3A4000%2Fnodejs-project-setup%2F2019%2F02%2F10%2Fcreating-basic-nodejs-api-project-with-typescript.html&via=Mahesh Kumar Kolla"
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
        <i class="fa fa-twitter-square fa-lg"></i>
      </a>
    
    
    
    
    
    
    
  
    
    
    
      <a href="//www.facebook.com/sharer.php?t=Creating+a+basic+Nodejs+API+project+with+typescript&u=http%3A%2F%2Flocalhost%3A4000%2Fnodejs-project-setup%2F2019%2F02%2F10%2Fcreating-basic-nodejs-api-project-with-typescript.html"
        onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;">
        <i class="fa fa-facebook-square fa-lg"></i>
      </a>
    
    
    
    
    
    
  
    
    
    
    
    
      <a href="//www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fnodejs-project-setup%2F2019%2F02%2F10%2Fcreating-basic-nodejs-api-project-with-typescript.html"
        onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;">
        <i class="fa fa-linkedin-square fa-lg"></i>
      </a>
    
    
    
    
  
</section>




<section class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'maheshkkolla';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



</div>
</div>

    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">Mahesh Kumar Kolla</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        
        
          <li class="nav-link"><a href="/about/">About</a>
        
        
        
        
        
        
        
        
        
          <li class="nav-link"><a href="/posts/">Posts</a>
        
        
        
          <li class="nav-link"><a href="/tag/thoughtworks/">thoughtworks</a>
        
        
        
          <li class="nav-link"><a href="/tag/step/">step</a>
        
        
        
          <li class="nav-link"><a href="/tag/tech/">tech</a>
        
        
        
          <li class="nav-link"><a href="/tag/nodejs/">nodejs</a>
        
        
        
          <li class="nav-link"><a href="/tag/typescript/">typescript</a>
        
        
        
          <li class="nav-link"><a href="/tag/javascript/">javascript</a>
        
        
        
          <li class="nav-link"><a href="/tag/school/">school</a>
        
        
        
          <li class="nav-link"><a href="/tag/childhood/">childhood</a>
        
        
        
          <li class="nav-link"><a href="/tag/raspberrypi/">raspberrypi</a>
        
        
        
          <li class="nav-link"><a href="/tag/mongodb/">mongodb</a>
        
        
        
          <li class="nav-link"><a href="/tag/ubuntu/">ubuntu</a>
        
        
        
          <li class="nav-link"><a href="/category/non-tech/">non-tech</a>
        
        
        
          <li class="nav-link"><a href="/category/nodejs-project-setup/">nodejs-project-setup</a>
        
        
        
          <li class="nav-link"><a href="/category/deploy-nodejs-application-on-a-raspberrypi/">deploy-nodejs-application-on-a-raspberrypi</a>
        
        
        
        
        
        
        
        
      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:mahesh.mk.245@gmail.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">mahesh.mk.245@gmail.com</span>
          </a>
        </li>

        
          
          <li>
            <a href="https://twitter.com/maheshkkolla" title="Follow me on Twitter">
              <i class="fa fa-twitter"></i>
              <span class="username">Mahesh Kumar Kolla</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://www.facebook.com/maheshkkolla" title="Facebook">
              <i class="fa fa-facebook"></i>
              <span class="username">Mahesh Kumar Kolla</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://www.linkedin.com/in/mahesh-kumar-kolla-75501113b/" title="Connect with me on LinkedIn">
              <i class="fa fa-linkedin"></i>
              <span class="username">Mahesh Kumar Kolla</span>
            </a>
          </li>
          
        

      </ul>
    </div>

    <div class="site-signature">
      <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
      <p class="text"></p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
  // Default syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });
});

</script>




<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-134133627-1', 'auto');
  ga('send', 'pageview', {
    'page': '/nodejs-project-setup/2019/02/10/creating-basic-nodejs-api-project-with-typescript.html',
    'title': 'Creating a basic Nodejs API project with typescript'
  });
</script>



  </body>

</html>
